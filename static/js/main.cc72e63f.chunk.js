(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{121:function(e,t,a){},140:function(e,t,a){},141:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){},153:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(19),l=a.n(o),c=(a(90),a(91),a(6)),i=a(161),s=a(155),u=a(162),m=a(7),d=a(26),p=a(75),f=a.n(p),h=Object(d.b)({name:"auth",initialState:{isAuthenticated:!1,user:{},admin:!1},reducers:{setCurrentUser:function(e,t){e.isAuthenticated=!f()(t.payload),e.user=t.payload,e.admin="admin"===t.payload.role},logoutCurrentUser:function(e){e.isAuthenticated=!1,e.user={},localStorage.removeItem("usertoken")}}}),E=h.actions,g=E.setCurrentUser,b=E.logoutCurrentUser,v=function(e){return e.auth.user},w=function(e){return e.auth.isAuthenticated},j=function(e){return e.auth.admin},O=h.reducer,N=Object(d.b)({name:"flashMessage",initialState:{text:"",type:""},reducers:{addFlashMessage:function(e,t){e.text=t.payload.text,e.type=t.payload.type},deleteFlashMessage:function(e){e.text="",e.type=""}}}),y=N.actions,C=y.addFlashMessage,S=y.deleteFlashMessage,k=function(e){return e.flashMessage.text},x=function(e){return e.flashMessage.type},I=N.reducer,P=(a(121),a(11)),M=a.n(P);function B(e){e?M.a.defaults.headers.common.Authorization="Bearer ".concat(e):delete M.a.defaults.headers.common.Authorization}var F=a(41);function z(e){var t=Object(m.c)(w),a=Object(m.c)(j),o=Object(m.b)(),l=Object(n.useState)(0),d=Object(c.a)(l,2),p=d[0],f=d[1];Object(n.useEffect)((function(){f(function(){var e=localStorage.getItem("usertoken");if(e){var t=Object(F.a)(e).exp;if(Date.now()>=1e3*t)return 0;var a=1e3*t-Date.now();return Math.round(a%864e5%36e5/6e4)}}())}),[]);var h=r.a.createElement(i.a.Item,null,r.a.createElement(s.a,{className:"loginButton",href:"#login",variant:"primary",size:"sm"},"Login")," "),E=r.a.createElement(i.a.Item,null,r.a.createElement(s.a,{onClick:function(){o(b()),o(C({text:"Sie wurden erfolgreich ausgeloggt.",type:"success"})),B(!1),window.location.reload()},className:"logoutButton",variant:"primary",size:"sm"},"Logout")," "),g=r.a.createElement(i.a.Item,null,r.a.createElement(s.a,{id:"sessionCounter",variant:"outline-primary",size:"sm"},"Sitzung endet in: ",p," min")," ");return r.a.createElement(u.a,{id:"navbar",bg:"light",expand:"lg"},r.a.createElement(u.a.Brand,{id:"logo",href:"#"},"Socializor"),r.a.createElement(u.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(u.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(i.a,{className:"mr-auto"},r.a.createElement(i.a.Item,null,r.a.createElement(i.a.Link,{id:"posts",href:"#posts"},"Spr\xfcche")),!t&&r.a.createElement(i.a.Item,null,r.a.createElement(s.a,{className:"registerButton",href:"#register",variant:"primary",size:"sm"},"Registrieren")," "),t&&r.a.createElement(i.a.Item,null,r.a.createElement(s.a,{href:"#profile",className:"profileButton",variant:"primary",size:"sm"},"Profil")," ")),r.a.createElement(i.a,{className:"ml-auto"},t&&g,a&&r.a.createElement(i.a.Item,null,r.a.createElement(s.a,{id:"adminBtn",size:"sm",variant:"outline-danger"},"Admin"),""),t?E:h)))}a(31);var T=function(){return M.a.get("https://glacial-fortress-07261.herokuapp.com/posts/fetch").then((function(e){return e.data})).catch((function(e){console.warn(e)}))},q=function(e){return M.a.delete("https://glacial-fortress-07261.herokuapp.com/posts/delete/"+e).then((function(e){return e.data})).catch((function(e){console.warn(e)}))};function G(){var e=localStorage.getItem("usertoken"),t=Object(m.c)(w),a=Object(n.useState)([]),o=Object(c.a)(a,2),l=(o[0],o[1]),i=Object(n.useState)(!1),s=Object(c.a)(i,2),u=(s[0],s[1]);Object(n.useEffect)((function(){!function(){try{u(!0),T().then((function(e){return l(e.reverse())}))}finally{u(!1)}}()}),[]);var d="";e&&t&&(d=Object(F.a)(e).firstName);return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"jumbotron mt-5"},r.a.createElement("div",{className:"col-sm-8 mx-auto"},r.a.createElement("h1",{className:"text-center"},"Willkommen ",d))))}var L=a(156),A=a(157),H=a(160),K=a(78),R=a(158);a(140);function D(e){var t=Object(n.useState)(""),a=Object(c.a)(t,2),o=a[0],l=a[1],i=Object(n.useState)(window.matchMedia("(max-width: 600px)").matches),u=Object(c.a)(i,2),d=u[0],p=u[1],f=Object(n.useState)(""),h=Object(c.a)(f,2),E=h[0],b=h[1],v=Object(n.useState)({}),w=Object(c.a)(v,2),j=w[0],O=w[1],N=Object(n.useState)(!1),y=Object(c.a)(N,2),S=y[0],k=y[1],x=Object(m.b)();function I(t){t.preventDefault(),k(!0),O({}),function(e){return M.a.post("https://glacial-fortress-07261.herokuapp.com/users/login",e).then((function(e){return localStorage.setItem("usertoken",e.data),e.data}))}({email:o,password:E}).then((function(t){t.errors?(O(t.errors),k(!1)):(x(g({email:o})),x(C({text:"Der Login war erfolgreich",type:"success"})),e.history.push("/"),setTimeout((function(){window.location.reload()}),1e3))}))}return Object(n.useEffect)((function(){window.matchMedia("(max-width: 600px)").addEventListener("change",(function(e){return p(e.matches)}))})),r.a.createElement("div",null,!d&&r.a.createElement(L.a,{fluid:!0,id:"loginContainer"},r.a.createElement(A.a,{className:"justify-content-md-center"},r.a.createElement("h2",{className:"brand"},"Post App")),r.a.createElement(A.a,{className:"justify-content-md-center"},r.a.createElement(H.a,{onSubmit:I,className:"loginForm",autoComplete:"off",id:"form"},j.login&&r.a.createElement("div",{className:"alert alert-danger"},j.login),r.a.createElement(H.a.Group,{className:"emailField"},r.a.createElement(H.a.Control,{id:"email",required:!0,type:"email",placeholder:"E-Mail-Adresse",value:o,onChange:function(e){return l(e.target.value)}})),r.a.createElement(H.a.Group,{className:"passwordField"},r.a.createElement(H.a.Control,{id:"password",required:!0,type:"password",placeholder:"Passwort",value:E,onChange:function(e){return b(e.target.value)}})),r.a.createElement(s.a,{size:"sm",type:"submit",disabled:S,className:"button",variant:"primary",block:!0},"Einloggen"))),r.a.createElement(A.a,{className:"justify-content-md-center"},S&&r.a.createElement(K.a,null,r.a.createElement(R.a,{id:"loadingSpinner",animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))))),d&&r.a.createElement(L.a,{fluid:!0,id:"loginContainerMobile"},r.a.createElement(A.a,{className:"justify-content-md-center"},r.a.createElement("h2",{className:"brandMobile"},"Post App")),r.a.createElement(A.a,{className:"justify-content-md-center"},r.a.createElement(H.a,{onSubmit:I,className:"loginFormMobile",autoComplete:"off",id:"formMobile"},j.login&&r.a.createElement("div",{className:"alert alert-danger"},j.login),r.a.createElement(H.a.Group,{className:"emailFieldMobile"},r.a.createElement(H.a.Control,{id:"email",required:!0,type:"email",placeholder:"E-Mail-Adresse",value:o,onChange:function(e){return l(e.target.value)}})),r.a.createElement(H.a.Group,{className:"passwordField"},r.a.createElement(H.a.Control,{id:"password",required:!0,type:"password",placeholder:"Passwort",value:E,onChange:function(e){return b(e.target.value)}})),r.a.createElement(s.a,{size:"sm",type:"submit",disabled:S,className:"button",variant:"primary",block:!0},"Einloggen"))),r.a.createElement(A.a,{className:"justify-content-md-center"},S&&r.a.createElement(K.a,null,r.a.createElement(R.a,{id:"loadingSpinner",animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))))))}var U=a(84),V=a(8);a(141);function W(e){var t=Object(n.useState)(window.matchMedia("(max-width: 600px)").matches),a=Object(c.a)(t,2),o=a[0],l=a[1],i=Object(n.useState)(""),u=Object(c.a)(i,2),d=u[0],p=u[1],f=Object(n.useState)(""),h=Object(c.a)(f,2),E=h[0],g=h[1],b=Object(n.useState)(""),v=Object(c.a)(b,2),w=v[0],j=v[1],O=Object(n.useState)(""),N=Object(c.a)(O,2),y=N[0],S=N[1],k=Object(n.useState)(""),x=Object(c.a)(k,2),I=x[0],P=x[1],B=Object(n.useState)({}),F=Object(c.a)(B,2),z=F[0],T=F[1],q=Object(n.useState)(!1),G=Object(c.a)(q,2),L=G[0],A=G[1],D=Object(m.b)();function U(t){t.preventDefault(),T({}),A(!0),function(e){return M.a.post("https://glacial-fortress-07261.herokuapp.com/users/register",e).then((function(e){return e.data}))}({firstName:d,lastName:E,email:w,password:y,repeatPassword:I}).then((function(t){t.errors?(D(C({text:"Die Registrierung war nicht erfolgreich",type:"error"})),T(t.errors)):(D(C({text:"Die Registrierung war erfolgreich",type:"success"})),e.history.push("/login"))})).catch((function(e){console.error(e)}))}return Object(n.useEffect)((function(){window.matchMedia("(max-width: 600px)").addEventListener("change",(function(e){return l(e.matches)}))})),r.a.createElement("div",null,!o&&r.a.createElement("div",{className:"container",id:"registerContainer"},r.a.createElement("h2",{className:"brand"},"Post App"),r.a.createElement(H.a,{onSubmit:U,className:"registerForm",autoComplete:"off"},z.user&&r.a.createElement("div",{className:"alert alert-danger"},z.user),z.repeatPassword&&r.a.createElement("div",{className:"alert alert-danger"},z.repeatPassword),r.a.createElement(H.a.Group,{className:"nameRow"},r.a.createElement(H.a.Row,null,r.a.createElement(K.a,null,r.a.createElement(H.a.Control,{id:"firstName",required:!0,placeholder:"Vorname",value:d,onChange:function(e){return p(e.target.value)}})),r.a.createElement(K.a,null,r.a.createElement(H.a.Control,{id:"lastName",required:!0,placeholder:"Nachname",value:E,onChange:function(e){return g(e.target.value)}})))),r.a.createElement(H.a.Group,{className:"emailField"},r.a.createElement(H.a.Control,{id:"email",required:!0,type:"email",placeholder:"E-Mail-Adresse",value:w,onChange:function(e){return j(e.target.value)}})),r.a.createElement(H.a.Group,{className:"passwordField"},r.a.createElement(H.a.Control,{id:"password",required:!0,type:"password",placeholder:"Passwort",value:y,onChange:function(e){return S(e.target.value)}})),r.a.createElement(H.a.Group,{className:"passwordField"},r.a.createElement(H.a.Control,{id:"repeatPassword",required:!0,type:"password",placeholder:"Passwort wiederholen",value:I,onChange:function(e){return P(e.target.value)}})),r.a.createElement(s.a,{disabled:L,type:"submit",className:"button",variant:"primary",size:"sm",block:!0},"Registrieren"),L&&r.a.createElement(R.a,{id:"loadingSpinner",animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))),o&&r.a.createElement("div",{className:"container",id:"registerContainerMobile"},r.a.createElement("h2",{className:"brand"},"Post App"),r.a.createElement(H.a,{onSubmit:U,className:"registerForm",autoComplete:"off"},z.user&&r.a.createElement("div",{className:"alert alert-danger"},z.user),z.repeatPassword&&r.a.createElement("div",{className:"alert alert-danger"},z.repeatPassword),r.a.createElement(H.a.Group,{className:"nameRow"},r.a.createElement(H.a.Row,null,r.a.createElement(K.a,null,r.a.createElement(H.a.Control,{id:"firstName",required:!0,placeholder:"Vorname",value:d,onChange:function(e){return p(e.target.value)}})),r.a.createElement(K.a,null,r.a.createElement(H.a.Control,{id:"lastName",required:!0,placeholder:"Nachname",value:E,onChange:function(e){return g(e.target.value)}})))),r.a.createElement(H.a.Group,{className:"emailField"},r.a.createElement(H.a.Control,{id:"email",required:!0,type:"email",placeholder:"E-Mail-Adresse",value:w,onChange:function(e){return j(e.target.value)}})),r.a.createElement(H.a.Group,{className:"passwordField"},r.a.createElement(H.a.Control,{id:"password",required:!0,type:"password",placeholder:"Passwort",value:y,onChange:function(e){return S(e.target.value)}})),r.a.createElement(H.a.Group,{className:"passwordField"},r.a.createElement(H.a.Control,{id:"repeatPassword",required:!0,type:"password",placeholder:"Passwort wiederholen",value:I,onChange:function(e){return P(e.target.value)}})),r.a.createElement(s.a,{disabled:L,type:"submit",className:"button",variant:"primary",size:"sm",block:!0},"Registrieren"),L&&r.a.createElement(R.a,{id:"loadingSpinner",animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))))}var _=a(159);function J(e){var t=Object(m.c)(v),a=Object(n.useState)(!1),o=Object(c.a)(a,2),l=o[0],i=o[1],u=Object(n.useState)(!1),d=Object(c.a)(u,2),p=d[0],f=d[1],h=Object(n.useState)(!1),E=Object(c.a)(h,2),g=E[0],b=E[1],w=Object(n.useState)(""),j=Object(c.a)(w,2),O=j[0],N=j[1],y=Object(n.useState)(""),C=Object(c.a)(y,2),S=C[0],k=C[1],x=function(){return b(!1)};return Object(n.useEffect)((function(){localStorage.getItem("usertoken")||e.history.push("/login")})),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"jumbotron mt-5"},r.a.createElement("div",{className:"col-sm-8 mx-auto"},r.a.createElement("h1",{className:"text-center"},"PROFIL"),r.a.createElement("p",null,"Vorname: ",t.firstName),r.a.createElement("p",null,"Nachname: ",t.lastName),r.a.createElement(s.a,{onClick:function(){return b(!0)},variant:"primary",size:"sm"}," Namen \xe4ndern"),r.a.createElement(_.a,{show:g,onHide:x},r.a.createElement(_.a.Header,{closeButton:!0},r.a.createElement(_.a.Title,null,"Namen \xe4ndern")),r.a.createElement(_.a.Body,null,r.a.createElement(H.a,null,r.a.createElement(H.a.Group,null,r.a.createElement(H.a.Label,null,"Vorname"),r.a.createElement(H.a.Control,{placeholder:"Neuer Vorname",value:O,onChange:function(e){return N(e.target.value)}})),r.a.createElement(H.a.Group,null,r.a.createElement(H.a.Label,null,"Nachname"),r.a.createElement(H.a.Control,{placeholder:"Neuer Nachname",value:S,onChange:function(e){return k(e.target.value)}})))),r.a.createElement(_.a.Footer,null,r.a.createElement(s.a,{variant:"secondary",onClick:x},"Schlie\xdfen"),r.a.createElement(s.a,{variant:"primary",onClick:function(){!function(e){M.a.put("https://glacial-fortress-07261.herokuapp.com/users/updateUser/"+e.firstName+"/"+e.lastName+"/"+e.email).then((function(e){return e.data})).catch((function(e){console.warn(e)}))}({firstName:O,lastName:S,email:t.email}),x(),setTimeout((function(){window.location.reload()}),1e3)}},"Speichern"))),r.a.createElement("p",null,"Email: ",t.email),r.a.createElement(H.a,{onSubmit:function(){f(!0);var e={};e.email=t.email,e.notification=l,function(e){return M.a.put("https://glacial-fortress-07261.herokuapp.com/users/update/"+e.email+"/"+e.notification).then((function(e){return e.data})).catch((function(e){console.warn(e)}))}(e).finally(f(!1)),setTimeout((function(){window.location.reload()}),1e3)}},r.a.createElement(H.a.Group,{controlId:"formBasicCheckbox"},r.a.createElement(H.a.Check,{defaultChecked:t.notification,disabled:p,onClick:function(e){return i(!t.notification)},type:"checkbox",label:"Ich will Mitteilungen erhalten"})),r.a.createElement(s.a,{size:"sm",variant:"primary",type:"submit"},"Speichern")))))}var $=a(163),Q=a(46),X=a.n(Q),Y=a(83),Z=a.n(Y);a(150);function ee(e){var t=Object(n.useState)(window.matchMedia("(max-width: 600px)").matches),a=Object(c.a)(t,2),o=a[0],l=a[1],i=Object(n.useState)(""),u=Object(c.a)(i,2),d=u[0],p=u[1],f=Object(n.useState)(""),h=Object(c.a)(f,2),E=h[0],g=h[1],b=Object(n.useState)([]),O=Object(c.a)(b,2),N=O[0],y=O[1],C=Object(n.useState)([]),S=Object(c.a)(C,2),k=S[0],x=S[1],I=Object(n.useState)(!1),P=Object(c.a)(I,2),B=P[0],F=P[1],z=Object(n.useState)(!1),G=Object(c.a)(z,2),D=G[0],U=G[1],V=Object(n.useState)(!1),W=Object(c.a)(V,2),J=W[0],Q=W[1],Y=Object(n.useState)(!1),ee=Object(c.a)(Y,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(""),re=Object(c.a)(ne,2),oe=re[0],le=re[1],ce=Object(n.useState)(""),ie=Object(c.a)(ce,2),se=ie[0],ue=ie[1],me=Object(n.useState)(!1),de=Object(c.a)(me,2),pe=(de[0],de[1]),fe=Object(m.c)(w),he=Object(m.c)(v),Ee=Object(m.c)(j),ge=he.firstName+" "+he.lastName;Object(n.useEffect)((function(){!function(){try{pe(!0),T().then((function(e){return y(e.reverse())}))}finally{pe(!1)}}();window.matchMedia("(max-width: 600px)").addEventListener("change",(function(e){return l(e.matches)}))}),[]);"url(".concat(Z.a,")");var be=function(){return U(!1)},ve=function(){return U(!0)},we=function(){return Q(!1)},je=function(){return Q(!0)},Oe=function(){return ae(!1)};function Ne(e){(function(e){return M.a.get("https://glacial-fortress-07261.herokuapp.com/posts/fetchComments/"+e).then((function(e){return e.data})).catch((function(e){console.warn(e)}))})(e).then((function(e){return x(e.reverse())}))}var ye=r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{show:te,onHide:Oe},r.a.createElement(_.a.Header,{closeButton:!0},r.a.createElement(_.a.Title,null,"Einen neuen Spruch verfassen")),r.a.createElement(_.a.Body,null,r.a.createElement(H.a,{id:"postForm",autoComplete:"off"},r.a.createElement(H.a.Group,null,r.a.createElement(H.a.Control,{id:"postHeader",required:!0,placeholder:"Spruch-\xdcberschrift",onChange:function(e){return p(e.target.value)},value:d})),r.a.createElement(H.a.Group,null,r.a.createElement("textarea",{id:"postContent",required:!0,className:"form-control","aria-label":"With textarea",placeholder:"Inhalt",onChange:function(e){return g(e.target.value)},value:E})))),r.a.createElement(_.a.Footer,null,r.a.createElement(s.a,{variant:"secondary",onClick:Oe},"Schlie\xdfen"),r.a.createElement(s.a,{disabled:B,variant:"primary",onClick:function(e){var t;e.preventDefault(),F(!0),function(e){return M.a.post("https://glacial-fortress-07261.herokuapp.com/posts/submit",e).then((function(e){return e.data})).catch((function(e){console.warn(e)}))}({postHeader:d,postContent:E,creatorName:ge,postId:X.a.generate()}).finally((function(){F(!1),window.location.reload()})),t=he.email,M.a.post("https://glacial-fortress-07261.herokuapp.com/emails/sendemail",t).then((function(e){return e.data})).catch((function(e){console.warn(e)}))}},"Post ver\xf6ffentlichen"))),r.a.createElement(_.a,{show:D,onHide:be},r.a.createElement(_.a.Header,{closeButton:!0},r.a.createElement(_.a.Title,null,"Neuen Kommentar verfassen")),r.a.createElement(_.a.Body,null,r.a.createElement(H.a,null,r.a.createElement(H.a.Group,null,r.a.createElement(H.a.Label,null,"Inhalt"),r.a.createElement(H.a.Control,{value:oe,onChange:function(e){return le(e.target.value)},as:"textarea",rows:4})))),r.a.createElement(_.a.Footer,null,r.a.createElement(s.a,{variant:"secondary",onClick:be},"Schlie\xdfen"),r.a.createElement(s.a,{variant:"primary",onClick:function(){U(!1);var e,t={content:oe,creator:ge,post:se};!function(e){M.a.post("https://glacial-fortress-07261.herokuapp.com/posts/submitComment",e).then((function(e){return e.data})).catch((function(e){console.warn(e)}))}(t),e=t,M.a.post("https://glacial-fortress-07261.herokuapp.com/emails/commentNotification",e).then((function(e){return e.data})).catch((function(e){console.warn(e)}))}},"Kommentieren"))),r.a.createElement(_.a,{show:J,onHide:we},r.a.createElement(_.a.Header,{closeButton:!0},r.a.createElement(_.a.Title,null,"Kommentare")),r.a.createElement(_.a.Body,null,0===k.length?r.a.createElement("p",null,"Es gibt noch keine Kommentare"):k.map((function(e){return r.a.createElement($.a,{id:"comment",style:{width:"25rem"}},Ee&&r.a.createElement(s.a,{onClick:function(e){return(t=e.target.name,M.a.delete("https://glacial-fortress-07261.herokuapp.com/posts/deleteComment/"+t).then((function(e){return e.data})).catch((function(e){console.warn(e)}))).then((function(){return window.location.reload()}));var t},id:"removeCommentBtn",name:e._id,variant:"danger",size:"sm"},"Kommentar l\xf6schen"),r.a.createElement($.a.Body,null,r.a.createElement($.a.Title,null,"Kommentar von "+e.creator),r.a.createElement($.a.Text,null,e.content),r.a.createElement("footer",{className:"blockquote-footer"},e.created.split("T")[0]+" "+e.created.substring(e.created.lastIndexOf("T")+1,e.created.lastIndexOf(".")))))}))),r.a.createElement(_.a.Footer,null,r.a.createElement(s.a,{variant:"secondary",onClick:we},"Schlie\xdfen")))),Ce=r.a.createElement("ul",null,!o&&N.map((function(e){return r.a.createElement("div",{id:"postContainer"},r.a.createElement($.a,{id:"singlePost",style:{width:"25rem"}},r.a.createElement($.a.Body,null,Ee&&r.a.createElement(s.a,{onClick:function(e){return q(e.target.name).then((function(){return window.location.reload()}))},type:"submit",id:"removePostBtn",name:e._id,variant:"danger",size:"sm"},"Spruch l\xf6schen"),r.a.createElement($.a.Title,null,e.postHeader),r.a.createElement($.a.Subtitle,{className:"mb-2 text-muted"},"ver\xf6ffentlicht von "+e.creatorName),r.a.createElement($.a.Text,null,e.postContent),r.a.createElement("footer",{className:"blockquote-footer"},e.created.split("T")[0]+" "+e.created.substring(e.created.lastIndexOf("T")+1,e.created.lastIndexOf("."))),fe&&r.a.createElement(s.a,{onClick:function(){Ne(e.postId),je()},variant:"link"},"Kommentare anzeigen"),fe&&r.a.createElement(s.a,{onClick:function(){ue(e.postId),ve()},variant:"link"},"Kommentieren"))))})),o&&N.map((function(e){return r.a.createElement("div",{id:"postContainer"},r.a.createElement($.a,{id:"singlePostMobile",style:{width:"20rem"}},r.a.createElement($.a.Body,null,Ee&&r.a.createElement(s.a,{onClick:function(e){return q(e.target.name).then((function(){return window.location.reload()}))},type:"submit",id:"removePostBtn",name:e._id,variant:"danger",size:"sm"},"Spruch l\xf6schen"),r.a.createElement($.a.Title,null,e.postHeader),r.a.createElement($.a.Subtitle,{className:"mb-2 text-muted"},"ver\xf6ffentlicht von "+e.creatorName),r.a.createElement($.a.Text,null,e.postContent),r.a.createElement("footer",{className:"blockquote-footer"},e.created.split("T")[0]+" "+e.created.substring(e.created.lastIndexOf("T")+1,e.created.lastIndexOf("."))),fe&&r.a.createElement(s.a,{onClick:function(){Ne(e.postId),je()},variant:"link"},"Kommentare anzeigen"),fe&&r.a.createElement(s.a,{onClick:function(){ue(e.postId),ve()},variant:"link"},"Kommentieren"))))})));return r.a.createElement("div",{id:"container"},r.a.createElement("div",{id:"postContainer"},r.a.createElement(L.a,null,r.a.createElement(A.a,null,r.a.createElement(K.a,null,r.a.createElement(s.a,{id:"createPostBtn",variant:"primary",onClick:function(){fe?ae(!0):e.history.push("/login")}},"Neuer Spruch")),r.a.createElement(K.a,null,!(N.length>0)&&r.a.createElement(R.a,{id:"fetchSpinner",animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))))),ye,Ce))}var te=a(3),ae=a.n(te);a(151);function ne(){var e=Object(m.c)(k),t=Object(m.c)(x),a=Object(m.b)();return r.a.createElement("div",{id:"message",className:ae()("alert",{"alert-success":"success"===t,"alert-danger":"error"===t})},e&&r.a.createElement("button",{onClick:function(){a(S())},className:"close"},r.a.createElement("span",null,"\xd7")),e)}var re=function(){var e=Object(m.b)(),t=Object(m.c)(v);return Object(n.useEffect)((function(){localStorage.getItem("usertoken")&&(B(localStorage.getItem("usertoken")),t.firstName?M.a.get("https://glacial-fortress-07261.herokuapp.com/users/validateToken").then((function(e){return e.data})).catch((function(e){console.warn(e)})).then((function(t){t.errors&&(localStorage.removeItem("usertoken"),e(C({text:t.errors.tokenExpired,type:"error"})))})):M.a.get("https://glacial-fortress-07261.herokuapp.com/users/profile").then((function(e){return e.data})).catch((function(e){console.warn(e)})).then((function(t){t.errors?(localStorage.removeItem("usertoken"),e(C({text:t.errors.tokenExpired,type:"error"}))):e(g(t))})))}),[]),r.a.createElement(U.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(z,null),r.a.createElement(ne,null),r.a.createElement(V.a,{exact:!0,path:"/",component:G}),r.a.createElement(V.a,{path:"/register",component:W}),r.a.createElement(V.a,{path:"/login",component:D}),r.a.createElement(V.a,{path:"/profile",component:J}),r.a.createElement(V.a,{path:"/posts",component:ee})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var oe=Object(d.b)({name:"post",initialState:{posts:[]},reducers:{addPost:function(e,t){var a={postHeader:t.payload.header,postContent:t.payload.text,postCreator:t.payload.creator,created:Date.now(),postId:X.a.generate()};e.posts.push(a)},removePost:function(e,t){var a=e.posts.indexOf((function(e){return e.postId===t.payload.postId}));e.posts.splice(a,1)}}}),le=oe.actions,ce=(le.addPost,le.removePost,oe.reducer),ie=Object(d.a)({reducer:{auth:O,flashMessage:I,post:ce}});l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(m.a,{store:ie},r.a.createElement(re,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},83:function(e,t,a){e.exports=a.p+"static/media/Landschaft.dcdcfa38.jpg"},85:function(e,t,a){e.exports=a(153)},90:function(e,t,a){},91:function(e,t,a){}},[[85,1,2]]]);
//# sourceMappingURL=main.cc72e63f.chunk.js.map